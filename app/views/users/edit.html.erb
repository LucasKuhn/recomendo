

<div class="my-3 p-3 bg-white border-radius-1 shadow">

<%= form_for(@user, html: { method: :put }) do |f| %>
<div class="form-group">
  <%= f.label :first_name %>
  <%= f.text_field :first_name, class: 'form-control' %>
</div>

<div class="form-group">
  <%= f.label :last_name %>
  <%= f.text_field :last_name, class: 'form-control' %>
</div>

<div class="form-group">
  <%= f.label :image %>
  <div class="custom-file">
    <%= f.file_field :image, class: "custom-file-input", lang: locale %>
    <label class="custom-file-label" for="user_image">Selecionar</label>
  </div>
</div>

<div class="text-center">
  <%= f.button "Atualizar", class: 'btn btn-primary', data: { disable_with: '<i class="fa fa-spinner fa-spin"></i>' } %>
</div>

<% end %>
</div>

<div class="my-4 bg-white shadow text-center border-radius-1">
  <%= link_to('Sair', destroy_user_session_path, method: :delete, class:'d-block w-100 p-3') %>
</div>

<script>
// https://getbootstrap.com/docs/4.4/components/forms/#file-browser
// https://stackoverflow.com/questions/7308908/waiting-for-dynamically-loaded-script
const jsScript = document.createElement('script')
jsScript.src ='https://cdn.jsdelivr.net/npm/bs-custom-file-input/dist/bs-custom-file-input.js'
document.body.appendChild(jsScript)
jsScript.addEventListener('load', () => {
  bsCustomFileInput.init()
})
</script>
